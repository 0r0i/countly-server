<div class="widget">
	<div class="widget-header">
		<div class="left">
			<div class="title">{{page-title}}</div>
		</div>
	</div>
	<div id="dbviewer" class="widget-content">
		<div class="left-side">
			<div id="accordion">
			{{#eachOfArray dbs}}
				<h3>{{value.name}}</h3>
				<div>
					<div id="dbviewer-collection-input-filter-wrapper">
						<input type="text" class="dbviewer-collection-filter-input" data-db="{{value.name}}" placeholder="Search for a collection">
						<i class="dbviewer-collection-filter-input-icon fa fa-search"></i>
					</div>
					<ul class="dbviewer-collection-list-{{value.name}}">
					{{#eachOfArray value.list}}
					<li class="searchable"><a class="dbviewer-link-in-collection-list" href='#/manage/db/{{../value.name}}/{{#withItem ../value.collections key=value}}{{this}}{{/withItem}}'>{{#replace value "(" " ("}}{{/replace}}</a></li>
					{{/eachOfArray}}
					</ul>
				</div>
			{{/eachOfArray}}
			</div>
		</div>
		<div class="right-side">
			<!-- Collection Back Button -->
			<div class="icon-button light dbviewer-back-button"><a href="#/manage/db"><i class="fa fa-chevron-left"></i> <span>{{back}}</span></a></div>
			<!-- Document Back Button -->
			<div class="icon-button light dbviewer-doc-back-button"><a href="#/manage/db/{{db}}/{{collection}}"><i class="fa fa-chevron-left"></i> <span>{{back}}</span></a></div>
			<div class="dbviewer-gray-area dbviewer-area-pos">
					<div class="dbviewer-header-of-query-wrapper">
						<div class="dbviewer-gray dbviewer-left-side-1">
							<a href='#/manage/db'>/</a>
							{{#if db}}
								{{#if collection}}
							<a class="dbviewer-gray" href='#/manage/db/{{db}}'><strong>{{db}}</strong></a>
									{{#if document}}
							<a class="dbviewer-gray dbviewer-collection-name" href='#/manage/db/{{db}}/{{collection}}'>/ {{collection}}</a>
									{{else}}
							/{{collection}}
									{{/if}}
								{{else}}
							{{db}}
								{{/if}}
							{{/if}}
						</div>
						<div class="dbviewer-button-right-side">
								<a id="dbviewer-export-button">Export <i class="ion-ios-arrow-down dbviewer-export-button-icon"></i></a>
						</div>
					</div>
					<div class="dbviewer-gray dbviewer-left-side-2">
							<div class="dbviewer-filter-toggle">
								<span class="dbviewer-filter-show"><i class="fa fa-chevron-down"></i>&nbsp;&nbsp;SHOW QUERY OPTIONS</span>
								<span class="dbviewer-filter-hide"><i class="fa fa-chevron-up"></i>&nbsp;&nbsp;HIDE QUERY OPTIONS</span>
								<span class="dbviewer-filter-status">Filter is applied</span>
							</div>
							<div class="dbviewer-filter-area">
								<p class="dbviewer-subtitle">Filter Query</p>
								<p><textarea class="dbviewer-collection-filter" placeholder='{{prettyJSON placeholder}}'></textarea><br>
								<span class="dbviewer-incorrect-json"><i class="fa fa-warning"></i> Invalid JSON</span>
								<span class="dbviewer-correct-json"><i class="fa fa-check"></i> Valid JSON </span></p>
								<p>
									<!--<a class="fa fa-check-square check-green" id="test111"></a>
									<label for="test111">Select fields to return</label>
									-->
										<label class="dbviewer-custom-checkbox-container">
											<input id="dbviewer-show-projection" type="checkbox">
											<span class="dbviewer-return-checkbox fa fa-square-o check-green"></span>
											<span class="dbviewer-checkbox-title">Select fields to return</span>
										</label>
									
								</p>
								<div id="dbviewer-projection-area">
									<input type="text" id="dbviewer-projection">
								</div>
								<p id="dbviewer-show-sort-wrapper"> 
									<!--<a class="fa fa-check-square check-green"></a>
									<label for="test111">Select fields to return</label>
									-->
									<label class="dbviewer-custom-checkbox-container">
										<input id="dbviewer-show-sort" type="checkbox">
										<span class="dbviewer-sort-checkbox fa fa-square-o check-green"></span>
										<span class="dbviewer-checkbox-title"></span>Select field to sort</span>
									</label>
									
								</p>
								<div id="dbviewer-sort-area">
										<div class="dbviewer-sort-wrapper">
											<!-- <select id="dbviewer-sort_param">
											</select>
											<select id="dbviewer-sort_type">
												<option value="-1">DESC</option>
												<option value="1">ASC</option>
											</select> -->
											<div class="cly-select dbviewer-sort-property" style="width: 49%; box-sizing: border-box;margin-top:5px">
								                <div class="select-inner">
								                    <div class="dbviewer-default-sort-param text-container">
								                    </div>
								                    <div class="right combo"></div>
								                </div>
								                <div class="select-items square" style="width: 100%; display: none;">
								                	<div class="slimScrollDiv" style="position: relative; overflow: hidden; width: auto; height: 100%;">
								                		<div class="dbviewer-sort-options-list scroll-list" style="overflow: hidden; width: auto; height: 100%;">
								                		</div>
								                		<div class="slimScrollBar ui-draggable" style="background: rgb(0, 0, 0); width: 7px; position: absolute; top: 0px; opacity: 0.4; display: none; border-radius: 7px; z-index: 99; right: 1px; height: 80px;"></div>
								                		<div class="slimScrollRail" style="width: 7px; height: 100%; position: absolute; top: 0px; display: none; border-radius: 7px; background: rgb(51, 51, 51); opacity: 0.2; z-index: 90; right: 1px;"></div>
								                	</div>
								                </div>
								            </div>

 
								            <div class="dbviewer-sort-property" style="width: 50%; box-sizing: border-box; float:right; padding-top:10px">
								                <span>Sorting</span> 
								                <span class="dbviewer-sort-type-select dbviewer-sort-active dbviewer-first-sort-item" id="dbviewer-sort-ascend" data-type="1">Ascending</span>
								                <span class="dbviewer-sort-type-select" id="dbviewer-sort-descend" data-type="-1">Descending</span>
								            </div>
										</div>
								</div>
								<div id="dbviewer-apply-filter-button-wrapper">
										<a id="dbviewer-apply-filter-button" class="dbviewer-green-button">Apply Filter</a>
								</div>
							</div>
						</div>
					</div>
					<div class="dbviewer-documents-area">
						{{#if document}}
						<div id="mongodocument">
						</div>
						</table>
						{{else}}
							{{#if collection}}
							<br>
							<p class="dbviewer-inline">Showing {{data.start}} - {{data.end}} from {{data.total}} documents</p>
							<p id='dbviewer-result-count-selector'>Show results: <select class='result-limit'>
									<option value='10'>10</option>
									<option value='20'>20</option>
									<option value='30'>30</option>
									<option value='40'>40</option>
									<option value='50'>50</option>
								</select>
							</p>
							<p class='pagination'>
							{{#ifCond data.pages ">" 1}}
								<a class="dbviewer-pagination-item" href='#/manage/db/{{db}}/{{collection}}/page/1'>First</a>
								<a class="dbviewer-pagination-item" href='#/manage/db/{{db}}/{{collection}}/page/{{prev}}'>Prev</a>
								&nbsp;
								{{#ifCond start ">" 1}}
								...
								&nbsp;
								{{/ifCond}}
								{{#for start end 1}}
									{{#ifCond this "==" ../data.curPage}}
									<a class="current dbviewer-pagination-item" href='#/manage/db/{{../../db}}/{{../../collection}}/page/{{this}}'>{{this}}</a>
									{{else}}
									<a class="dbviewer-pagination-item" href='#/manage/db/{{../../db}}/{{../../collection}}/page/{{this}}'>{{this}}</a>
									{{/ifCond}}
								{{/for}}
								{{#ifCond end "<" data.pages}}
								&nbsp;
								...
								{{/ifCond}}
								&nbsp;
								<a class="dbviewer-pagination-item" href='#/manage/db/{{db}}/{{collection}}/page/{{next}}'>Next</a>
								<a class="dbviewer-pagination-item" href='#/manage/db/{{db}}/{{collection}}/page/{{data.pages}}'>Last</a>
							{{/ifCond}}
							</p>
							<table class="jh-type-object jh-root" id="dbviewer-collections">
							{{#eachOfArray data.collections}}
							<tr>
								<th class="jh-key jh-object-key"><p><strong>_id:</strong> {{value._id}} <span class="jh-type-string"><a href='#/manage/db/{{../db}}/{{../collection}}/{{value._id}}' >View</a></span></p></th>
							</tr>
							<tr>
								<td class="jh-value jh-object-value">{{prettyJSON value}}</td>
							</tr>
							{{/eachOfArray}}
							</table>
							<p class='pagination'>
							{{#ifCond data.pages ">" 1}}
								<a class="dbviewer-pagination-item" href='#/manage/db/{{db}}/{{collection}}/page/1'>First</a>
								<a class="dbviewer-pagination-item" href='#/manage/db/{{db}}/{{collection}}/page/{{prev}}'>Prev</a>
								&nbsp;
								{{#ifCond start ">" 1}}
								...
								&nbsp;
								{{/ifCond}}
								{{#for start end 1}}
									{{#ifCond this "==" ../data.curPage}}
									<a href='#/manage/db/{{../../db}}/{{../../collection}}/page/{{this}}' class="current dbviewer-pagination-item">{{this}}</a>
									{{else}}
									<a class="dbviewer-pagination-item" href='#/manage/db/{{../../db}}/{{../../collection}}/page/{{this}}'>{{this}}</a>
									{{/ifCond}}
								{{/for}}
								{{#ifCond end "<" data.pages}}
								&nbsp;
								...
								{{/ifCond}}
								&nbsp;
								<a class="dbviewer-pagination-item" href='#/manage/db/{{db}}/{{collection}}/page/{{next}}'>Next</a>
								<a class="dbviewer-pagination-item" href='#/manage/db/{{db}}/{{collection}}/page/{{data.pages}}'>Last</a>
							{{/ifCond}}
							&nbsp;
							</p>
							<p class="dbviewer-inline">Showing {{data.start}} - {{data.end}} from {{data.total}} documents</p>
							<p id='dbviewer-result-count-selector'>
								Show results: <select class='result-limit'>
									<option value='10'>10</option>
									<option value='20'>20</option>
									<option value='30'>30</option>
									<option value='40'>40</option>
									<option value='50'>50</option>
								</select>
							</p>
							{{else}}
								{{#if db}}
								{{#eachOfArray dbs}}
									{{#ifCond value.name "==" ../db}}
										<table class="jh-type-object jh-root" id="dbviewer-collections">
										{{#eachOfArray value.list}}
										<tr>
										<th class="jh-key jh-object-key"><a href="#/manage/db/{{../../../db}}/{{#withItem ../value.collections key=value}}{{this}}{{/withItem}}">{{value}}</a></th>
										</tr>
										{{/eachOfArray}}
										</table>
									{{/ifCond}}
								{{/eachOfArray}}
								{{else}}
									<table class="jh-type-object jh-root" id="dbviewer-collections">
									{{#eachOfArray dbs}}
										<tr>
										<th class="jh-key jh-object-key"><a href="#/manage/db/{{value.name}}">{{value.name}}</a></th>
										</tr>
									{{/eachOfArray}}
									</table>
								{{/if}}
							{{/if}}
						{{/if}}
					</div>
		</div>
		<div class="clear"></div>
	</div>
</div>